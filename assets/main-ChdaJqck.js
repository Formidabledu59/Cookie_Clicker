var p=Object.defineProperty;var u=(i,e,s)=>e in i?p(i,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[e]=s;var l=(i,e,s)=>u(i,typeof e!="symbol"?e+"":e,s);import{m as a,_ as g}from"./index-bEYp8r4x.js";const E="/Cookie_Clicker/assets/ttts-BXQbQ05e.png";class T{constructor(e,s){l(this,"gameElement",null);l(this,"onClick",null);this.gameElement=e,this.onClick=s}render(){this.clickableAreaElement=document.createElement("section"),this.clickableAreaElement.id="game-clickable-area",this.clickableAreaElement.innerHTML=`
        <img id="cookie" src=${E} width="256px" height="256px" alt="An awesome cookie." />
    `,this.clickableAreaElement.addEventListener("click",e=>{window.requestAnimationFrame(()=>{this.clickableAreaElement.classList.add("active"),setTimeout(()=>{window.requestAnimationFrame(()=>{this.clickableAreaElement.classList.remove("active")})},100)}),this.onClick(e)}),this.gameElement.append(this.clickableAreaElement)}}const c="/Cookie_Clicker/assets/tttsahur-CPyBKVHt.png";function r(i,e,s){const t=Math.min(30,Math.floor(Math.log2(e+1)*s));for(let n=0;n<t;n++){const o=document.createElement("img");o.src=`${c}`,o.className="cookie-rain",o.style.left=`${Math.random()*100}%`,i.appendChild(o),setTimeout(()=>{o.remove()},2e3)}}function h(i,e,s,t){const n=document.createElement("span");n.textContent=s,n.className="floating-text",n.style.left=`${i}px`,n.style.top=`${e}px`,t.appendChild(n),setTimeout(()=>{n.remove()},1e3)}function m(i,e,s,t,n){n?h(e,s,`+${t}`,i):r(i,t)}function v(i=1){return new Promise(e=>{const s=Math.floor(Math.random()*(i*1e3-1+1))+1,t=document.createElement("img");t.src=c,t.className="golden-cookie fade-in",t.style.position="absolute",t.style.top=`${Math.random()*80+10}%`,t.style.left=`${Math.random()*80+10}%`,t.style.width="50px",t.style.height="50px",t.style.cursor="pointer",t.style.zIndex=1e3,t.style.transition="opacity 1s",document.body.appendChild(t);let n=setTimeout(()=>{t.classList.remove("fade-in"),t.classList.add("fade-out"),setTimeout(()=>t.remove(),1e3),e(0)},5e3);t.addEventListener("click",o=>{clearTimeout(n),t.remove(),e({reward:s,x:o.clientX,y:o.clientY})})})}const y=Object.freeze(Object.defineProperty({__proto__:null,createCookieRain:r,handleCookieGain:m,randomSpawn:v,showFloatingText:h},Symbol.toStringTag,{value:"Module"}));class S{constructor(e){l(this,"ttts",0);l(this,"gameElement",null);l(this,"scoreElement",null);l(this,"clicPower",1);l(this,"clickableArea",null);l(this,"onClickableAreaClick",e=>{this.ttts+=this.clicPower,a.addTTTS(this.clicPower),window.requestAnimationFrame(()=>{this.updateScore();const{clientX:t,clientY:n}=e;m(this.gameElement,t,n,this.clicPower,!0)}),r(this.gameElement,this.ttts,this.clicPower),Math.random()<.1&&g(async()=>{const{randomSpawn:t,handleCookieGain:n}=await Promise.resolve().then(()=>y);return{randomSpawn:t,handleCookieGain:n}},void 0).then(({randomSpawn:t,handleCookieGain:n})=>{t(1).then(o=>{o&&o.reward>0&&(a.addTTTS(o.reward),window.requestAnimationFrame(()=>{this.updateScore(),n(this.gameElement,o.x,o.y,o.reward,!0)}))})})});this.ttts=a.getState().ttts,this.gameElement=document.querySelector("#game"),this.clickableArea=new T(this.gameElement,this.onClickableAreaClick)}start(){this.render()}render(){this.renderScore(),this.clickableArea.render()}renderScore(){this.scoreElement=document.createElement("section"),this.scoreElement.id="game-score",this.gameElement.append(this.scoreElement),this.updateScore()}updateScore(){this.scoreElement.innerHTML=`
        <span>${a.getState().ttts.toFixed(0)} ttts</span>
    `}changeClicPower(e){this.clicPower+=e}}function k(i,e){let s=0;i.addEventListener("click",()=>{s++,e.innerText=`Vous avez cliqu√© ${s} fois`})}const A="data:image/png;base64,UklGRp4FAABXRUJQVlA4TJEFAAAvx8AxENUGg7aNJCX8Ye+XOR2AiJgAjvZA9Vm+as/ANlmBSgUOAFcKO2Wv3Au6eZbeblIzfAUvqQdG7f5R1v5/ht28iPTMzszGdnLVq+YF1LZt23Z71Uvbtm3btm2357/Zc57MRrW2tttor+pOzU0qICjyfzQCSVv4ebi1bS1T3J0RoABaoBTLHCIyZiIcSqAFjySTyEJ3dyrQ8W9PANxIkhw5XlzsplewBv7H7dHAzoNzAwCNc2icaidEBaBqAEA8mm17SWnv4WjbtvEM3q4trd53SclOfJDx5wRcYKAQADrcFvUw4ruv5FAGMjo8bzM1ULDXXZh+TBZDPmYNUx2IQhMxNmwTZhBTabRRT4X6IruBlNCVDQsxhkUd+vjge4AWOUJhOWiOG/k9xFb4UrRjC14PY4Pz/jt/AmcLKZmhspI0IdMpBdDguz/2mJnSkWNXE84TOjwdkyNiXHeEG+S7kXZhyEATJWJGbLio2KKRTDYTRO5EM8ZCZt0hDiiHpvdk/hUVBwyQj/L3m9yiUpjRI35U7DHAmCIXzHKxQ42bkHBIiIRMU034DdESMc0X+VAYb+V+zsWDC2MpKDRU+Pw0PGoKbDWHTJjcI2asghvZBJwN/fBCEp+U2GU+yp8gbnhcBvskXRV87HDjXJPEHGHaAgwcJvaUqNeV4PodZ3EC7MSpHR2Y+s8w8tyIXLh1M747OfhaiCgno8wIAUdKO317sYfZoeyCrtnnRu0HOqU5QjWay3EjOdN4Q9NhjblR+Z7ErB7NjNQMkYKo73rANdWEiEWkMgk899WYLh6IBRVEBMR4QOE8DnLJb9nRqdkW6SV0/zW+Jeq/GitMCcmJ33ASlgS6CN1/jTkZ0WcmoJLsMxdlhzVWXiRFSFFSoBOkGkfNfrkI7zNVlBNI/bhk7OyLcm7V5OFH+c3kJtdlVsCfD98I4Dro538DeB44uH1ajK5xSTNp3FgzzWcDOPgnpewUJWtlHPFa0lK4OXqLK17DHhhsxiiA/6/B/xkQo2QrzQD5Dg40XcQPj82xTgaZ73D4RjPCETPD9DffwdeT5JAoWc/tJhEQzBGAlWibSYgzh7z46XFUlGe8OMMAFdSaCAMITVy5bBO2BDaL6Lq/DJDvxnyY7DCKsUDySkbJCDCzDDYMgEPDKBLqBGrsmbAn2AO0Q2zMMopxxOw1e4zkIcOAvoQEIXDwsRdmGMUwb0CiJClBBzVvzJDT+LZKQqgc/BMYUnZwLGJS3qQnK4RdhN8dMxI3ksFKbABaorgEgug5ypguD41m4SU6F8Cc0s5clQgbZbqbHgbUp8rDwE9PRCviSIUtUEoOGwklZgKlnXKkg1wtI+da53NVIPECArQz0ADr0D7zLgx89zBQdsomLNTOoSawtimswluwEMpiqQmU9W3SiDwCaIAzxksgL2cIeW6sY7hhggTyZD6W4q4WR8UffqhDtsdMNRPMI/BWSb0KHBAOKYfGnmxIQjZb/MTtuB/Q/YLbzQg0EyKUCIgDH7IZxvvgQw5ILpBLXGBpjWaIz/kgHlC8IF7yjAzSzuCPdoLcyI+TY+awgY+ayEAZw/JaTGlXkoX0XFbKCFhaOsuvQFlPRAviAAG2QEGEBe6ibhHAamEJ5FEilEMK8Bzs3C+QNiEgQmE5YCIfwpEsiYx8CH+c8fhciH5ufE28gngJNqHyaKi3CUnEeArWqyr/BqwqdWSJsORhP1P1eQNWf8q8L6+b+x4Di9fJJtjrw06BPoGsAFB1wHBhyWFT5jEcfGB8R/jaLigloZ+Q5SCGE0YYppR9hEMPTO+IXptiUPopWQpQc8IIYc01ULwj8drPsa7sefhXBylHNxSH26CgNJT6wswGpp7EFY2TDiT9iPR25eEaUzmPUiydM1aXfHhDeVh9xhoA";class C{constructor(e){this.game=e,this.passiveLevel=0,this.passiveGain=0,this.shopElement=null,this.toggleButton=null,this.cookieDisplay=null,this.moneyDisplay=null,this.render(),this.startPassiveIncome()}render(){this.createToggleButton(),this.createShopPanel(),document.body.append(this.toggleButton,this.shopElement)}createToggleButton(){this.toggleButton=document.createElement("button"),this.toggleButton.id="shop-toggle",this.toggleButton.innerText="üõí",this.toggleButton.addEventListener("click",()=>{this.shopElement.classList.toggle("open")})}createShopPanel(){this.shopElement=document.createElement("aside"),this.shopElement.id="shop",this.shopElement.innerHTML=`
      <h2>Shop TTTS</h2>
      <p>TTTS: <span id="shop-cookie-count">0</span></p>
      <p>Argent: <span id="shop-money-count">0</span></p>
      <input type="number" id="sell-amount" min="1" placeholder="Combien vendre" />
      <button id="sell-ttts">Vendre</button>
      <button id="sell-all">Tout vendre</button>
      <div class="upgrade">
        <h3>Click passif</h3>
        <img src="${A}" alt="Click Passif" class="shop-item-image" />
        <p>Niveau: <span id="passive-lvl">0</span></p>
        <p>Gain: <span id="passive-gain">1</span> TTTS/s</p>
        <p>Prix: <span id="passive-cost">10</span> $</p>
        <button id="upgrade-passive">Acheter/Am√©liorer</button>
      </div>
    `,this.cookieDisplay=this.shopElement.querySelector("#shop-cookie-count"),this.moneyDisplay=this.shopElement.querySelector("#shop-money-count"),this.shopElement.querySelector("#sell-ttts").addEventListener("click",()=>this.sellTTTS()),this.shopElement.querySelector("#sell-all").addEventListener("click",()=>this.sellAllTTTS()),this.shopElement.querySelector("#upgrade-passive").addEventListener("click",()=>this.upgradePassive()),this.updateDisplays()}updateDisplays(){this.cookieDisplay.innerText=a.getState().ttts.toFixed(0),this.moneyDisplay.innerText=a.getState().money.toFixed(0),this.shopElement.querySelector("#passive-lvl").innerText=this.passiveLevel,this.shopElement.querySelector("#passive-gain").innerText=this.passiveGain.toFixed(1),this.shopElement.querySelector("#passive-cost").innerText=this.getPassiveCost()}sellTTTS(){const e=this.shopElement.querySelector("#sell-amount"),s=parseInt(e.value);!isNaN(s)&&s>0&&a.getState().ttts>=s&&(a.removeTTTS(s),a.addMoney(s),this.updateDisplays(),e.value="")}sellAllTTTS(){const e=Math.floor(a.getState().ttts);e>0&&(a.removeTTTS(e),a.addMoney(e),this.updateDisplays())}getPassiveCost(){return 10+this.passiveLevel*5}upgradePassive(){const e=this.getPassiveCost();a.getState().money>=e?(a.removeMoney(e),this.passiveLevel++,this.passiveGain=.5+(this.passiveLevel-.5)*.1,this.updateDisplays()):console.log("Pas assez d'argent pour am√©liorer le click passif !")}startPassiveIncome(){setInterval(()=>{a.addTTTS(this.passiveGain),this.game.updateScore(),this.updateDisplays()},1e3)}}function b(i){let e=document.querySelector("link[rel~='icon']");e||(e=document.createElement("link"),e.rel="icon",document.head.appendChild(e)),e.href=i}b(c);document.querySelector("#app").innerHTML=`
  <div>
    <h1>Tung Tung Tung Tung Sahur</h1>
    <div id="game"></div>
    <p id="counter-text">Vous avez cliqu√© 0 fois</p>
  </div>
`;const d=new S({cookies:0});d.start();setTimeout(()=>{const i=document.querySelector("#cookie"),e=document.querySelector("#counter-text");i&&e&&k(i,e)},0);new C(d);
